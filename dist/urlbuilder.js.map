{"version":3,"sources":["../src/urlbuilder.js"],"names":["UrlBuilder","apikey","sensorid","arr","push","url","buildUrl","str","baseUrl","opt","i","length","query","join","console","info"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAEaA,U;AAET,oCAAYC,MAAZ,EAAoBC,QAApB,EAA8B;AAAA;;AAC1B,yBAAKD,MAAL,GAAcA,MAAd;AACA,yBAAKC,QAAL,GAAgBA,QAAhB;AACH;;;;oDAEe;AACZ,4BAAIC,MAAM,EAAV;AACA,4BAAI,KAAKD,QAAT,EAAmB;AACfC,gCAAIC,IAAJ,CAAS,QAAQ,KAAKF,QAAtB;AACH;AACD;AACAC,4BAAIC,IAAJ,CAAS,wBAAT;AACA;AACA,4BAAIC,MAAM,KAAKC,QAAL,CAAc,UAAd,EAA0BH,GAA1B,CAAV;AACA,+BAAOE,GAAP;AACH;;;6CAEQE,G,EAAKJ,G,EAAK;AACf,4BAAIK,UAAU,uCAAd;AACA,4BAAIH,MAAMG,UAAUD,GAApB;;AAEA,4BAAIE,MAAM,EAAV;;AAEA,4BAAI,KAAKR,MAAL,IAAe,EAAnB,EACIQ,IAAIL,IAAJ,CAAS,YAAY,KAAKH,MAA1B;;AAEJ,4BAAIE,GAAJ,EAAS;AACL,iCAAK,IAAIO,IAAI,CAAb,EAAgBA,IAAIP,IAAIQ,MAAxB,EAAgC,EAAED,CAAlC;AACID,oCAAIL,IAAJ,CAASD,IAAIO,CAAJ,CAAT;AADJ;AAEH;;AAED,4BAAID,IAAIE,MAAJ,GAAa,CAAjB,EAAoB;AAChB,gCAAIC,QAAQH,IAAII,IAAJ,CAAS,GAAT,CAAZ;AACAR,mCAAO,MAAMO,KAAb;AACH;;AAEDE,gCAAQC,IAAR,CAAa,UAAUV,GAAvB;AACA,+BAAOA,GAAP;AACH","file":"urlbuilder.js","sourcesContent":["\n\nexport class UrlBuilder {\n\n    constructor(apikey, sensorid) {\n        this.apikey = apikey;\n        this.sensorid = sensorid;\n    }\n\n    buildQueryUrl() {\n        var arr = [];\n        if (this.sensorid) {\n            arr.push('id=' + this.sensorid);\n        }\n        // only request scalars\n        arr.push('resulttype=scalarvalue');\n        // api url\n        var url = this.buildUrl(\"/streams\", arr);\n        return url;\n    }\n\n    buildUrl(str, arr) {\n        var baseUrl = \"https://sensor-cloud.io/api/sensor/v2\";\n        var url = baseUrl + str;\n\n        var opt = [];\n\n        if (this.apikey != \"\")\n            opt.push('apikey=' + this.apikey);\n\n        if (arr) {\n            for (var i = 0; i < arr.length; ++i)\n                opt.push(arr[i]);\n        }\n\n        if (opt.length > 0) {\n            var query = opt.join('&');\n            url += '?' + query\n        }\n\n        console.info('url: ' + url);\n        return url;\n    }\n}\n"]}